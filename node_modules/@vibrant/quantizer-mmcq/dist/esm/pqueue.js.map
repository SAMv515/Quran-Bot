{"version":3,"file":"pqueue.js","sources":["../../src/pqueue.ts"],"sourcesContent":["interface PQueueComparator<T> {\n\t(a: T, b: T): number;\n}\n\n/**\n * @private\n */\nexport class PQueue<T> {\n\tcontents: T[];\n\tprivate _sorted: boolean;\n\tprivate _comparator: PQueueComparator<T>;\n\tprivate _sort(): void {\n\t\tif (!this._sorted) {\n\t\t\tthis.contents.sort(this._comparator);\n\t\t\tthis._sorted = true;\n\t\t}\n\t}\n\n\tconstructor(comparator: PQueueComparator<T>) {\n\t\tthis._comparator = comparator;\n\t\tthis.contents = [];\n\t\tthis._sorted = false;\n\t}\n\n\tpush(item: T): void {\n\t\tthis.contents.push(item);\n\t\tthis._sorted = false;\n\t}\n\n\tpeek(index?: number): T {\n\t\tthis._sort();\n\t\tindex = typeof index === \"number\" ? index : this.contents.length - 1;\n\t\treturn this.contents[index]!;\n\t}\n\n\tpop() {\n\t\tthis._sort();\n\t\treturn this.contents.pop();\n\t}\n\n\tsize(): number {\n\t\treturn this.contents.length;\n\t}\n\n\tmap<U>(mapper: (item: T, index: number) => any): U[] {\n\t\tthis._sort();\n\t\treturn this.contents.map(mapper);\n\t}\n}\n"],"names":[],"mappings":"AAOO,MAAM,OAAU;AAAA,EAId,QAAc;AACrB,QAAI,CAAC,KAAK,SAAS;AAClB,WAAK,SAAS,KAAK,KAAK,WAAW;AACnC,WAAK,UAAU;AAAA,IAChB;AAAA,EACD;AAAA,EAEA,YAAY,YAAiC;AAC5C,SAAK,cAAc;AACnB,SAAK,WAAW,CAAA;AAChB,SAAK,UAAU;AAAA,EAChB;AAAA,EAEA,KAAK,MAAe;AACnB,SAAK,SAAS,KAAK,IAAI;AACvB,SAAK,UAAU;AAAA,EAChB;AAAA,EAEA,KAAK,OAAmB;AACvB,SAAK,MAAA;AACL,YAAQ,OAAO,UAAU,WAAW,QAAQ,KAAK,SAAS,SAAS;AACnE,WAAO,KAAK,SAAS,KAAK;AAAA,EAC3B;AAAA,EAEA,MAAM;AACL,SAAK,MAAA;AACL,WAAO,KAAK,SAAS,IAAA;AAAA,EACtB;AAAA,EAEA,OAAe;AACd,WAAO,KAAK,SAAS;AAAA,EACtB;AAAA,EAEA,IAAO,QAA8C;AACpD,SAAK,MAAA;AACL,WAAO,KAAK,SAAS,IAAI,MAAM;AAAA,EAChC;AACD;"}